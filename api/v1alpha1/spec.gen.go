// Package v1alpha1 provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.3.0 DO NOT EDIT.
package v1alpha1

import (
	"bytes"
	"compress/gzip"
	"encoding/base64"
	"fmt"
	"net/url"
	"path"
	"strings"

	"github.com/getkin/kin-openapi/openapi3"
)

// Base64 encoded, gzipped, json marshaled Swagger object
var swaggerSpec = []string{

	"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",
}

// GetSwagger returns the content of the embedded swagger specification file
// or error if failed to decode
func decodeSpec() ([]byte, error) {
	zipped, err := base64.StdEncoding.DecodeString(strings.Join(swaggerSpec, ""))
	if err != nil {
		return nil, fmt.Errorf("error base64 decoding spec: %w", err)
	}
	zr, err := gzip.NewReader(bytes.NewReader(zipped))
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}
	var buf bytes.Buffer
	_, err = buf.ReadFrom(zr)
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}

	return buf.Bytes(), nil
}

var rawSpec = decodeSpecCached()

// a naive cached of a decoded swagger spec
func decodeSpecCached() func() ([]byte, error) {
	data, err := decodeSpec()
	return func() ([]byte, error) {
		return data, err
	}
}

// Constructs a synthetic filesystem for resolving external references when loading openapi specifications.
func PathToRawSpec(pathToFile string) map[string]func() ([]byte, error) {
	res := make(map[string]func() ([]byte, error))
	if len(pathToFile) > 0 {
		res[pathToFile] = rawSpec
	}

	return res
}

// GetSwagger returns the Swagger specification corresponding to the generated code
// in this file. The external references of Swagger specification are resolved.
// The logic of resolving external references is tightly connected to "import-mapping" feature.
// Externally referenced files must be embedded in the corresponding golang packages.
// Urls can be supported but this task was out of the scope.
func GetSwagger() (swagger *openapi3.T, err error) {
	resolvePath := PathToRawSpec("")

	loader := openapi3.NewLoader()
	loader.IsExternalRefsAllowed = true
	loader.ReadFromURIFunc = func(loader *openapi3.Loader, url *url.URL) ([]byte, error) {
		pathToFile := url.String()
		pathToFile = path.Clean(pathToFile)
		getSpec, ok := resolvePath[pathToFile]
		if !ok {
			err1 := fmt.Errorf("path not found: %s", pathToFile)
			return nil, err1
		}
		return getSpec()
	}
	var specData []byte
	specData, err = rawSpec()
	if err != nil {
		return
	}
	swagger, err = loader.LoadFromData(specData)
	if err != nil {
		return
	}
	return
}
