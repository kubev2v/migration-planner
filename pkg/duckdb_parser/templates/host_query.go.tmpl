{{- /*
Host Query Template - Generates DuckDB SQL to extract ESXi host information.

This query extracts host details from the vHost sheet including CPU, memory,
and vendor/model information.

Template Parameters:
  - ClusterFilter: filter by cluster name
  - Limit: max results (0 = unlimited)
  - Offset: skip first N results
*/ -}}
SELECT
    COALESCE("Cluster", '') as "cluster",
    COALESCE("# Cores", 0)::integer as "cpuCores",
    COALESCE("# CPU", 0)::integer as "cpuSockets",
    COALESCE("Object ID", '') as "id",
    COALESCE("# Memory", 0)::integer as "memoryMB",
    COALESCE("Model", 'N/A') as "model",
    COALESCE("Vendor", 'N/A') as "vendor"
FROM vhost
WHERE 1=1
{{- if .ClusterFilter }} AND "Cluster" = '{{.ClusterFilter}}'{{end}}
{{- if and .Limit (gt .Limit 0) }} LIMIT {{.Limit}}{{end}}
{{- if and .Offset (gt .Offset 0) }} OFFSET {{.Offset}}{{end}};
